import{_ as u,o as n,c as i,a as o,n as g,b as w,t as b,i as c,r as m,e as _,F as p,j as y,p as x,h as C,g as S}from"./index-5f7a1b10.js";import{M as D}from"./MainNav-1a830532.js";const M={name:"Pokemon Card",props:{pokemon:{type:Object,require:!0}},data(){return{liked:!1,loadingSprite:!0}},methods:{likeItem(e){this.liked=!this.liked,e.stopPropagation()},goToDetal(){this.$router.push({name:"pokemonDetail",params:{id:this.pokemon.name}})}}},P={class:"card-header"},I={key:0,class:"loader"},N=["src","alt"],L={class:"pokemon-name"};function V(e,t,s,l,r,d){return n(),i("div",{onClick:t[2]||(t[2]=(...a)=>d.goToDetal&&d.goToDetal(...a)),class:"pokemon-card"},[o("div",P,[o("div",{onClick:t[0]||(t[0]=a=>d.likeItem(a)),class:g([{"is-active":r.liked},"heart"])},null,2),r.loadingSprite?(n(),i("div",I)):w("",!0),o("img",{onLoad:t[1]||(t[1]=a=>r.loadingSprite=!1),src:s.pokemon.image,alt:s.pokemon.name},null,40,N)]),o("div",L,b(s.pokemon.name),1)])}const $=u(M,[["render",V],["__scopeId","data-v-690910f5"]]);const E={layout:"MainLayout",data(){return{pokemons:[],loading:!1,nextUrl:"https://pokeapi.co/api/v2/pokemon?limit=20"}},components:{PokeCard:$,MainNav:D},methods:{async loadMore(){if(!this.loading){this.loading=!0;try{const e=await c.get(this.nextUrl);this.nextUrl=e.data.next;const t=await Promise.all(e.data.results.map(async s=>{const l=await c.get(s.url);return{name:s.name,url:s.url,image:l.data.sprites.other["official-artwork"].front_default,id:l.data.id}}));this.pokemons=[...this.pokemons,...t],this.loading=!1}catch(e){console.error(e),this.loading=!1}}},handleScroll(){document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&this.loadMore()}},mounted(){this.loadMore(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},h=e=>(x("data-v-ebbe3938"),e=e(),C(),e),T={class:"dashboard-wrap"},U={class:"container"},B=h(()=>o("div",{class:"mb-5"},[o("h1",null,"Welcome trainer!"),o("p",null,[S("Here you can see the list of all pokemons, discover new ones and "),o("b",null,"like your favorites ❤!")])],-1)),H={class:"grid-container"},O={key:0,class:"load-wrap"},W=h(()=>o("div",{class:"loader"},null,-1)),j=[W];function F(e,t,s,l,r,d){const a=m("MainNav"),k=m("PokeCard");return n(),i(p,null,[_(a),o("div",T,[o("div",U,[o("div",null,[B,o("div",H,[(n(!0),i(p,null,y(r.pokemons,(v,f)=>(n(),i("div",{key:f,class:"grid-item"},[_(k,{pokemon:v},null,8,["pokemon"])]))),128))])]),(n(),i("div",O,j))])])],64)}const A=u(E,[["render",F],["__scopeId","data-v-ebbe3938"]]);export{A as default};
